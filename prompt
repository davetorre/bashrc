function when_ok() {
  ret_val=$?
  if [[ "$ret_val" = "0" ]]; then
      echo -e "$@✓"
  fi
  return $ret_val
}

# x, ×, X, ✕, ☓, ✖, ✗, ✘,
function when_failed() {
  ret_val=$?
  if [[ "$ret_val" != "0" ]]; then
      echo -e "$@✖"
  fi
  return $ret_val
}

PS1="\$(when_ok '\[$GREEN\]')\$(when_failed '\[$RED\]') \[$WHITE\][\[$CYAN\]\W\[$YELLOW\]\$(vcbranch)\[$RED\]\$(vcinfo)\[$WHITE\]] $ \[$RESET\]"